(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{239:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},950:function(e,t){},952:function(e,t){},960:function(e,t,n){},961:function(e,t,n){},965:function(e,t,n){},966:function(e,t,n){},969:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(53),o=n.n(r),s=(n(239),n(15)),i=n(8),u=n(4),j=n.n(u),l=n(9),b=n(7),d=n(1),h=Object(c.createContext)(localStorage.getItem("token")),p=function(){return Object(c.useContext)(h)},O=function(e){var t=e.children,n=function(){var e=Object(c.useState)(localStorage.getItem("token")),t=Object(b.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){n&&localStorage.setItem("token",n)}),[n]);var r=Object(c.useCallback)(function(){var e=Object(l.a)(j.a.mark((function e(t,n){var c,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 3:if((c=e.sent).ok){e.next=6;break}throw new Error;case 6:return e.next=8,c.json();case 8:r=e.sent,o=r.token,a(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),window.alert("Wrong credentials");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),[a]),o=Object(c.useCallback)(function(){var e=Object(l.a)(j.a.mark((function e(t,n){var c,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 3:if((c=e.sent).ok){e.next=6;break}throw new Error;case 6:return e.next=8,c.json();case 8:r=e.sent,o=r.token,a(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),window.alert("Username already existed!");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),[a]);return{token:n,login:r,register:o}}(),a=n.token,r=n.login,o=n.register;return Object(d.jsx)(h.Provider,{value:{token:a,login:r,register:o},children:t})},m=(n(241),n(242),function(){return p().token?Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"listContainer",children:[Object(d.jsx)("li",{className:"menuItem",children:Object(d.jsx)(s.b,{className:"linkItem",to:"/admin",children:"Admin"})}),Object(d.jsx)("li",{className:"menuItem",children:Object(d.jsx)(s.b,{className:"linkItem",to:"/quizzes",children:"Create quizzes"})}),Object(d.jsx)("li",{className:"menuItem",children:Object(d.jsx)(s.b,{className:"linkItem",to:"/getquizzes",children:"View quizzes"})}),Object(d.jsx)("li",{className:"menuItem",children:Object(d.jsx)(s.b,{className:"linkItem",to:"/create",children:"Create / Edit quizzes"})}),Object(d.jsx)("li",{className:"menuItem",children:Object(d.jsx)(s.b,{className:"linkItem",to:"/docs",children:"Docs"})})]})}):Object(d.jsx)(x,{})}),x=function(){var e=Object(i.f)().push,t=p(),n=t.login,a=t.token,r=Object(c.useState)(""),o=Object(b.a)(r,2),s=o[0],u=o[1],j=Object(c.useState)(""),l=Object(b.a)(j,2),h=l[0],O=l[1];return a?Object(d.jsx)(m,{}):Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Log in"}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",value:s,placeholder:"Username",onChange:function(e){var t=e.target.value;return u(t)}})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"password",value:h,placeholder:"Password",onChange:function(e){var t=e.target.value;return O(t)}})}),Object(d.jsx)("button",{onClick:function(){return n(s,h)},children:"Login"}),Object(d.jsx)("button",{onClick:function(){return e("/register")},children:"Register"})]})},f=function(){var e=p().token,t=Object(c.useState)([]),n=Object(b.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){(function(){var t=Object(l.a)(j.a.mark((function t(){var n,c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/admin",{method:"GET",headers:{Authorization:"bearer ".concat(e)}});case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("");case 6:return t.next=8,n.json();case 8:c=t.sent,a=c.apiCounts,console.log(a),r(a),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),r([]);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),e?a.length>0?Object(d.jsxs)("div",{id:"container-admin",children:[Object(d.jsx)("h1",{className:"adminTitle",children:"Dash board"}),a.map((function(e){var t=e.apiName,n=e.count,c=t.split(" "),a=Object(b.a)(c,2),r=a[0],o=a[1];return Object(d.jsxs)("div",{className:"container ".concat(r,"container"),children:[Object(d.jsx)("span",{className:"method",children:r}),Object(d.jsx)("span",{className:"endpoint",children:o}),Object(d.jsx)("span",{className:"count",children:n})]},t)}))]}):Object(d.jsx)("h1",{className:"loadingTxt",children:"Loading..."}):Object(d.jsx)(x,{})},v=n(218),C=(n(959),function(){return Object(d.jsx)(v.a,{url:"https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/docs"})}),g=n(3),N=n(6),y=n(26),k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return e.map((function(e,a){return t===a?n(e):c(e)}))},w=(n(960),function(e,t){var n=t.action,c=t.questionIndex,a=t.choiceIndex,r=t.value;return"ADD_QUESTION"===n.toUpperCase()?[].concat(Object(y.a)(e),[{body:"",choices:[{body:"",isCorrect:!0}]}]):"ADD_CHOICE"===n.toUpperCase()?k(e,c,(function(e){var t=e.body,n=e.choices;return{body:t,choices:[].concat(Object(y.a)(n),[{body:"",isCorrect:!1}])}})):"QUESTION_BODY_CHANGE"===n.toUpperCase()?k(e,c,(function(e){return Object(N.a)(Object(N.a)({},e),{},{body:r})})):"CHOICE_BODY_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.choices,o=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},o),{},{choices:t!==c?n:n.map((function(e,t){var n=e.body,c=Object(g.a)(e,["body"]);return Object(N.a)(Object(N.a)({},c),{},{body:t!==a?n:r})}))})})):"CHOICE_SELECT_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.choices,r=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},r),{},{choices:t!==c?n:n.map((function(e,t){return Object(N.a)(Object(N.a)({},e),{},{isCorrect:t===a})}))})})):[]}),z=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useReducer)(w,[]),o=Object(b.a)(r,2),s=o[0],u=o[1],h=p().token,O=Object(i.f)(),m=Object(c.useCallback)(Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return a("Name can't be empty"),e.abrupt("return");case 3:if(0!==s.length){e.next=6;break}return window.alert("There must be at least 1 questions"),e.abrupt("return");case 6:if(s.every((function(e){return e.body}))){e.next=9;break}return window.alert("Question can't be empty"),e.abrupt("return");case 9:if(s.every((function(e){return e.choices.every((function(e){return e.body}))}))){e.next=12;break}return window.alert("Choices can't be empty"),e.abrupt("return");case 12:if(s.every((function(e){return e.choices.length>1}))){e.next=15;break}return window.alert("There must be at least 2 choices for each questions"),e.abrupt("return");case 15:return e.next=17,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(h)},body:JSON.stringify({quizName:n,questions:s})});case 17:window.alert("Added quiz"),a(""),O.push("/getquizzes");case 20:case"end":return e.stop()}}),e)}))),[n,s,h]);return h?Object(d.jsxs)("div",{className:"createQuizContainer",children:[Object(d.jsx)("input",{type:"text",className:"quiz-name",value:n,placeholder:"Enter name of quiz",onChange:function(e){var t=e.target.value;return a(t)}}),Object(d.jsx)("br",{}),s.map((function(e,t){var n=e.body,c=e.choices;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h3",{className:"questionIndex",children:["Question ",t+1]}),Object(d.jsx)("input",{className:"decoRadioBtn",type:"radio"}),Object(d.jsx)("textarea",{className:"txtInput quiz-title",value:n,placeholder:"Enter question",onChange:function(e){var n=e.target.value;u({action:"QUESTION_BODY_CHANGE",questionIndex:t,value:n})}}),Object(d.jsx)("br",{}),c.map((function(e,n){var c=e.isCorrect,a=e.body;return Object(d.jsxs)("div",{className:"choiceContainer",children:[Object(d.jsx)("input",{className:"radioBtn-createQuiz",type:"radio",checked:c,onChange:function(){u({action:"CHOICE_SELECT_CHANGE",questionIndex:t,choiceIndex:n})}}),Object(d.jsx)("textarea",{className:"txtInput",value:a,onChange:function(e){var c=e.target.value;u({action:"CHOICE_BODY_CHANGE",questionIndex:t,choiceIndex:n,value:c})}})]},n)})),Object(d.jsx)("button",{className:"addBtn",onClick:function(){return u({action:"ADD_CHOICE",questionIndex:t})},children:"Add a choice"},"button-".concat(t)),Object(d.jsx)("hr",{})]},t)})),Object(d.jsx)("button",{className:"addBtn",onClick:function(){return u({action:"ADD_QUESTION"})},children:"Add question"}),Object(d.jsx)("button",{className:"addBtn addQuiz",onClick:m,children:"Add Quiz"})]}):Object(d.jsx)(x,{})},E=n(989),q=n(231),I=n.n(q),S=n(987),T=(n(961),Object(S.a)({mainContainer:{gridArea:"deleteBtn",textAlign:"right",paddingRight:"3em"},btnContainer:{paddingRight:"0",paddingTop:"0"},btn:{color:"white",fontSize:"1.5em",transition:"all .6s ease-out","&:hover":{transform:"scale(1.7)",color:"#a80000"}}})),A=function(){var e=T(),t=Object(c.useState)([]),n=Object(b.a)(t,2),a=n[0],r=n[1],o=p().token,i=Object(c.useCallback)(function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/".concat(t),{method:"DELETE",mode:"cors",headers:{Authorization:"bearer ".concat(o),"Content-Type":"application/json"}});case 2:window.alert("Quiz deleted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(c.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes",{method:"GET",headers:{Authorization:"bearer ".concat(o)}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),r(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),o?0===a.length?Object(d.jsx)("h1",{className:"pageTitle",children:"No quizzes yet. Go create a new one!"}):o?Object(d.jsxs)("div",{className:"wholeWrapper",children:[Object(d.jsx)("h1",{className:"pageTitle",children:"Quiz List - Quizzes"}),a.map((function(t,n){var c=t.id,a=t.quizName,r=t.createdAt,o={pathname:"/quiz/".concat(c)},u={pathname:"/edit/".concat(c)},j={pathname:"/submissions/".concat(c)};return Object(d.jsxs)("div",{className:"gridContainer",children:[Object(d.jsx)("div",{className:"deleteBtnContainer ".concat(e.mainContainer),children:Object(d.jsx)(E.a,{className:e.btnContainer,onClick:function(){i(c)},children:Object(d.jsx)(I.a,{className:e.btn})})}),Object(d.jsx)("h5",{className:"indexSection",children:n+1}),Object(d.jsx)("h3",{className:"nameSection",children:a}),Object(d.jsx)("h4",{className:"dateSection",children:r}),Object(d.jsx)("div",{className:"cardMenuContainer",children:Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"cardUL",children:[Object(d.jsx)("li",{className:"menuList",children:Object(d.jsx)(s.b,{className:"link",to:o,children:"Take Quiz"})}),Object(d.jsx)("li",{className:"menuList",children:Object(d.jsx)(s.b,{className:"link",to:u,children:"Edit Quiz"})}),Object(d.jsx)("li",{className:"menuList",children:Object(d.jsx)(s.b,{className:"link",to:j,children:"View Submission"})})]})})})]},"quiz-".concat(c))}))]}):Object(d.jsx)(x,{}):Object(d.jsx)(x,{})},D=(n(965),function(){var e=p().token,t=Object(i.g)().id,n=Object(c.useState)(""),a=Object(b.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)([]),u=Object(b.a)(s,2),h=u[0],O=u[1],m=Object(c.useCallback)(Object(l.a)(j.a.mark((function n(){var c,a,r,o;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(h),c=h.flatMap((function(e){return e.choices.filter((function(e){return e.isChecked})).flatMap((function(e){return e.choiceID}))})),console.log(c),n.next=5,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/submissions/".concat(t),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(e)},body:JSON.stringify({choices:c})});case 5:if((a=n.sent).ok){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,a.json();case 10:r=n.sent,o=r.score,window.alert("Your score is ".concat(o)),O(h.map((function(e){var t=e.choices,n=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},n),{},{choices:t.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{isChecked:!1})}))})})));case 14:case"end":return n.stop()}}),n)}))),[h,t,e]);return Object(c.useEffect)((function(){(function(){var n=Object(l.a)(j.a.mark((function n(){var c,a,r,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("CHECKPOINT  "+t),n.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/".concat(t),{method:"GET",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(e)}});case 3:return c=n.sent,n.next=6,c.json();case 6:a=n.sent,r=a.quizName,s=a.questions,console.log(s),console.log(r),o(r),console.log(r),O(s.map((function(e){var t=e.choices,n=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},n),{},{choices:t.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{isChecked:!1})}))})})));case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[t,e]),Object(d.jsxs)("div",{className:"quizWrapper",children:[Object(d.jsx)("h2",{className:"quizTitle",children:r}),h.map((function(e,t){var n=e.questionID,c=e.questionBody,a=e.choices;return Object(d.jsxs)("div",{className:"questionWrapper",children:[Object(d.jsx)("h3",{className:"questionNumber",children:t+1}),Object(d.jsx)("h3",{className:"questionTitle",children:c}),a.map((function(e,n){var c=e.choiceID,a=e.choiceBody,r=e.isChecked;return Object(d.jsxs)("div",{className:"choiceWrapper",children:[Object(d.jsx)("input",{className:"radioBtn",type:"radio",checked:r,onChange:function(){O(h.map((function(e,c){var a=e.choices,r=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},r),{},{choices:c!==t?a:a.map((function(e,t){return Object(N.a)(Object(N.a)({},e),{},{isChecked:t===n})}))})})))}}),Object(d.jsx)("span",{className:"choiceText",children:a})]},c)}))]},n)})),Object(d.jsx)("button",{className:"submitBtn",onClick:m,children:"Submit"})]})}),B=function(){var e=Object(i.f)().push,t=p(),n=t.register,a=t.token,r=Object(c.useState)(""),o=Object(b.a)(r,2),s=o[0],u=o[1],j=Object(c.useState)(""),l=Object(b.a)(j,2),h=l[0],O=l[1],x=Object(c.useState)(""),f=Object(b.a)(x,2),v=f[0],C=f[1];return a?Object(d.jsx)(m,{}):Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",value:s,placeholder:"Username",onChange:function(e){var t=e.target.value;return u(t)}})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"password",value:h,placeholder:"Password",onChange:function(e){var t=e.target.value;return O(t)}})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"password",value:v,placeholder:"Confirm password",onChange:function(e){var t=e.target.value;return C(t)}})}),Object(d.jsx)("button",{onClick:function(){return h?h!==v?(window.alert("Passwords don't match"),O(""),void C("")):(s||(window.alert("Username can't be empty"),u("")),void n(s,h)):(window.alert("Password can't be empty"),O(""),void C(""))},children:"Register"}),Object(d.jsx)("button",{onClick:function(){return e("/login")},children:"Login"})]})},_=(n(966),function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(i.g)().id,o=p().token;return Object(c.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/submissions/".concat(r),{method:"GET",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(o)}});case 2:return t=e.sent,console.log("checking point "+r),e.next=6,t.json();case 6:n=e.sent,console.log(n),a(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,o]),console.log("test"),console.log(n),o?Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"submissionWrapper",children:n.length>0?n.map((function(e){var t=e.submittedAt.substring(0,10);return console.log(typeof t),console.log(t),Object(d.jsxs)("div",{className:"submissionCard",children:[Object(d.jsx)("h1",{className:"submissionCardusername",children:e.username}),Object(d.jsxs)("h1",{className:"submissionCardScore",children:["score: ",e.score]},e.id),Object(d.jsxs)("h3",{className:"submissionCardDate",children:["Submitted Date:"," ",Object(d.jsx)("span",{className:"yearText",children:"(yyyy-mm-dd)"}),t]})]})})):Object(d.jsx)("h1",{children:"No Submissions Yet"})})}):Object(d.jsx)(x,{})}),U=function(e,t){var n=t.action,c=t.questionIndex,a=t.choiceIndex,r=t.value,o=t.questions,s=t.question;return"CHOICE_BODY_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.choices,o=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},o),{},{choices:t!==c?n:n.map((function(e,t){var n=e.choiceBody,c=Object(g.a)(e,["choiceBody"]);return Object(N.a)(Object(N.a)({},c),{},{choiceBody:t!==a?n:r})}))})})):"CHOICE_SELECT_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.choices,r=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},r),{},{choices:t!==c?n:n.map((function(e,t){e.isCorrect;var n=Object(g.a)(e,["isCorrect"]);return Object(N.a)(Object(N.a)({},n),{},{isCorrect:t===a})}))})})):"QUESTION_BODY_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.questionBody,a=Object(g.a)(e,["questionBody"]);return Object(N.a)(Object(N.a)({},a),{},{questionBody:t===c?r:n})})):"ADDED_QUESTION"===n.toUpperCase()?[].concat(Object(y.a)(e),[s]):"GET_QUESTIONS"===n.toUpperCase()?o:e},Q=function(){var e=Object(i.g)().id,t=p().token,n=Object(c.useState)(""),a=Object(b.a)(n,2),r=a[0],o=a[1],s=Object(c.useReducer)(U,[]),u=Object(b.a)(s,2),h=u[0],O=u[1],m=Object(c.useState)(""),f=Object(b.a)(m,2),v=f[0],C=f[1],k=Object(c.useState)([]),w=Object(b.a)(k,2),z=w[0],E=w[1],q=Object(c.useState)(!0),I=Object(b.a)(q,2),S=I[0],T=I[1],A=Object(c.useCallback)(Object(l.a)(j.a.mark((function n(){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=3;break}return o("Name can't be empty"),n.abrupt("return");case 3:return n.next=5,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/".concat(e),{method:"PUT",mode:"cors",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(t)},body:JSON.stringify({quizName:r})});case 5:window.alert("Name changed");case 6:case"end":return n.stop()}}),n)}))),[r,o,e,t]),D=Object(c.useCallback)(function(){var e=Object(l.a)(j.a.mark((function e(n,c,a,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Question ID: "+n),console.log("Question body: "+a),console.log("Choices: \n"+JSON.stringify(r)),e.next=5,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/questions/".concat(n),{method:"PUT",mode:"cors",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(t)},body:JSON.stringify({body:a,choices:r})});case 5:window.alert("#".concat(c," Question changed"));case 6:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),[t]),B=Object(c.useCallback)(Object(l.a)(j.a.mark((function n(){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(v){n.next=3;break}return C("Name can't be empty"),n.abrupt("return");case 3:if(!(z.length<2)){n.next=6;break}return window.alert("There must be at least 2 choice"),n.abrupt("return");case 6:if(z.every((function(e){return e.body}))){n.next=9;break}return window.alert("Choice can't be empty"),n.abrupt("return");case 9:if(0!==z.filter((function(e){return e.isCorrect})).length){n.next=12;break}return window.alert("There must be only 1 answer choice for this question"),n.abrupt("return");case 12:return n.next=14,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/questions/".concat(e),{method:"POST",mode:"cors",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(t)},body:JSON.stringify({questionBody:v,choices:z})});case 14:window.alert("Question added"),C(""),E([]),T(!0),window.location.reload();case 19:case"end":return n.stop()}}),n)}))),[z,v,t,e,E,C]),_=Object(c.useCallback)(function(){var e=Object(l.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/questions/".concat(n),{method:"DELETE",mode:"cors",headers:{Authorization:"bearer ".concat(t),"Content-Type":"application/json"}});case 2:window.alert("Question Deleted :("),window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(c.useEffect)((function(){(function(){var n=Object(l.a)(j.a.mark((function n(){var c,a,r,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("CHECKPOINT "+e),n.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/".concat(e,"?showAnswers=true"),{method:"GET",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(t)}});case 3:return c=n.sent,n.next=6,c.json();case 6:a=n.sent,r=a.quizName,s=a.questions,console.log(r),console.log(s),o(r),O({action:"GET_QUESTIONS",questions:s});case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[e,t]),console.log(h),t?Object(d.jsxs)("div",{className:"quizWrapper",children:[Object(d.jsx)("input",{type:"text",value:r,placeholder:"Enter name of quiz",onChange:function(e){var t=e.target.value;return o(t)}}),Object(d.jsx)("button",{onClick:A,children:"Change name"}),h.map((function(e,t){var n=e.questionID,c=e.questionBody,a=e.choices;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:t+1}),Object(d.jsx)("input",{type:"radio",className:"decoRadioBtn"}),Object(d.jsx)("textarea",{value:c,onChange:function(e){var n=e.target.value;O(h,{action:"QUESTION_BODY_CHANGE",questionIndex:t,value:n})}}),a.map((function(e,n){var c=e.choiceBody,a=e.isCorrect,r=e.choiceID;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",checked:a,onChange:function(){O(h,{action:"CHOICE_SELECT_CHANGE",questionIndex:t,choiceIndex:n})}}),Object(d.jsx)("textarea",{value:c,onChange:function(e){var c=e.target.value;O(h,{action:"CHOICE_BODY_CHANGE",questionIndex:t,choiceIndex:n,value:c}),console.log(h)}})]})},r)})),Object(d.jsx)("button",{onClick:function(){D(n,t,c,a)},children:"Change question"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){_(n)},children:"Delete question"})]},n)})),S?Object(d.jsx)("button",{onClick:function(){T(!S),E([{body:"",isCorrect:!0}])},children:"Add question"}):Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",className:"decoRadioBtn"}),Object(d.jsx)("textarea",{placeholder:"Enter question",value:v,onChange:function(e){var t=e.target.value;C(t)}}),z.map((function(e,t){var n=e.body,c=e.isCorrect;return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",checked:c,onChange:function(){E(z.map((function(e,n){e.isCorrect;var c=Object(g.a)(e,["isCorrect"]);return Object(N.a)(Object(N.a)({},c),{},{isCorrect:n===t})})))}}),Object(d.jsx)("textarea",{value:n,onChange:function(e){var n=e.target.value;E(z.map((function(e,c){var a=e.body,r=Object(g.a)(e,["body"]);return Object(N.a)(Object(N.a)({},r),{},{body:c!==t?a:n})})))}})]},t)})),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(){E([].concat(Object(y.a)(z),[{body:"",isCorrect:!1}]))},children:"Add choice"}),Object(d.jsx)("button",{onClick:B,children:"Submit"})]})]}):Object(d.jsx)(x,{})},H=function(){return Object(d.jsx)(O,{children:Object(d.jsx)(s.a,{basename:"/",children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/",exact:!0,component:m}),Object(d.jsx)(i.a,{path:"/admin",exact:!0,component:f}),Object(d.jsx)(i.a,{path:"/docs",exact:!0,component:C}),Object(d.jsx)(i.a,{path:"/quizzes",exact:!0,component:z}),Object(d.jsx)(i.a,{path:"/getquizzes",exact:!0,component:A}),Object(d.jsx)(i.a,{path:"/login",exact:!0,component:x}),Object(d.jsx)(i.a,{path:"/register",exact:!0,component:B}),Object(d.jsx)(i.a,{path:"/quiz/:id",exact:!0,component:D}),Object(d.jsx)(i.a,{path:"/submissions/:id",exact:!0,component:_}),Object(d.jsx)(i.a,{path:"/edit/:id",exact:!0,component:Q})]})})})};o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(H,{})}),document.getElementById("root"))}},[[969,1,2]]]);
//# sourceMappingURL=main.24a6153c.chunk.js.map
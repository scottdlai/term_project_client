(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{239:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},250:function(e,t,n){},951:function(e,t){},953:function(e,t){},961:function(e,t,n){},962:function(e,t,n){},966:function(e,t,n){},967:function(e,t,n){},968:function(e,t,n){},969:function(e,t,n){},972:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(54),o=n.n(r),i=(n(239),n(18)),s=n(8),u=n(4),l=n.n(u),d=n(9),j=n(7),b=n(1),p=Object(c.createContext)(localStorage.getItem("token")),h=function(){return Object(c.useContext)(p)},O=function(e){var t=e.children,n=function(){var e=Object(c.useState)(localStorage.getItem("token")),t=Object(j.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){n&&localStorage.setItem("token",n)}),[n]);var r=Object(c.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 3:if((c=e.sent).ok){e.next=6;break}throw new Error;case 6:return e.next=8,c.json();case 8:r=e.sent,o=r.token,a(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),window.alert("Wrong credentials");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),[a]),o=Object(c.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t,n){var c,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 3:if((c=e.sent).ok){e.next=6;break}throw new Error;case 6:return e.next=8,c.json();case 8:r=e.sent,o=r.token,a(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),window.alert("Username already existed!");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),[a]);return{token:n,login:r,register:o}}(),a=n.token,r=n.login,o=n.register;return Object(b.jsx)(p.Provider,{value:{token:a,login:r,register:o},children:t})},m=(n(241),n(242),function(){return h().token?Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{className:"listContainer",children:[Object(b.jsx)("li",{className:"menuItem",children:Object(b.jsx)(i.b,{className:"linkItem",to:"/admin",children:"Admin"})}),Object(b.jsx)("li",{className:"menuItem",children:Object(b.jsx)(i.b,{className:"linkItem",to:"/quizzes",children:"Create quizzes"})}),Object(b.jsx)("li",{className:"menuItem",children:Object(b.jsx)(i.b,{className:"linkItem",to:"/getquizzes",children:"View quizzes"})}),Object(b.jsx)("li",{className:"menuItem",children:Object(b.jsx)(i.b,{className:"linkItem",to:"/docs",children:"Docs"})})]})}):Object(b.jsx)(x,{})}),x=(n(250),function(){var e=Object(s.f)().push,t=h(),n=t.login,a=t.token,r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],u=o[1],l=Object(c.useState)(""),d=Object(j.a)(l,2),p=d[0],O=d[1];return a?Object(b.jsx)(m,{}):Object(b.jsxs)("div",{className:"loginMainContainer",children:[Object(b.jsx)("h1",{className:"loginTitle",children:"Log in"}),Object(b.jsx)("div",{className:"loginInputContainer",children:Object(b.jsx)("input",{className:"loginInput",type:"text",value:i,placeholder:"Username",onChange:function(e){var t=e.target.value;return u(t)}})}),Object(b.jsx)("div",{className:"loginInputContainer",children:Object(b.jsx)("input",{className:"loginInput",type:"password",value:p,placeholder:"Password",onChange:function(e){var t=e.target.value;return O(t)}})}),Object(b.jsx)("button",{className:"loginBtn_login",onClick:function(){return n(i,p)},children:"Login"}),Object(b.jsx)("button",{className:"registerBtn_login",onClick:function(){return e("/register")},children:"Register"})]})}),f=function(){var e=h().token,t=Object(c.useState)([]),n=Object(j.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){(function(){var t=Object(d.a)(l.a.mark((function t(){var n,c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/admin",{method:"GET",headers:{Authorization:"bearer ".concat(e)}});case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("");case 6:return t.next=8,n.json();case 8:c=t.sent,a=c.apiCounts,console.log(a),r(a),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),r([]);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),e?a.length>0?Object(b.jsxs)("div",{id:"container-admin",children:[Object(b.jsx)("h1",{className:"adminTitle",children:"Dash board"}),a.map((function(e){var t=e.apiName,n=e.count,c=t.split(" "),a=Object(j.a)(c,2),r=a[0],o=a[1];return Object(b.jsxs)("div",{className:"container ".concat(r,"container"),children:[Object(b.jsx)("span",{className:"method",children:r}),Object(b.jsx)("span",{className:"endpoint",children:o}),Object(b.jsx)("span",{className:"count",children:n})]},t)}))]}):Object(b.jsx)("h1",{className:"loadingTxt",children:"Loading..."}):Object(b.jsx)(x,{})},v=n(218),C=(n(960),function(){return Object(b.jsx)(v.a,{url:"https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/docs"})}),g=n(3),N=n(6),y=n(26),z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return e.map((function(e,a){return t===a?n(e):c(e)}))},w=(n(961),function(e,t){var n=t.action,c=t.questionIndex,a=t.choiceIndex,r=t.value;return"ADD_QUESTION"===n.toUpperCase()?[].concat(Object(y.a)(e),[{body:"",choices:[{body:"",isCorrect:!0}]}]):"ADD_CHOICE"===n.toUpperCase()?z(e,c,(function(e){var t=e.body,n=e.choices;return{body:t,choices:[].concat(Object(y.a)(n),[{body:"",isCorrect:!1}])}})):"QUESTION_BODY_CHANGE"===n.toUpperCase()?z(e,c,(function(e){return Object(N.a)(Object(N.a)({},e),{},{body:r})})):"CHOICE_BODY_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.choices,o=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},o),{},{choices:t!==c?n:n.map((function(e,t){var n=e.body,c=Object(g.a)(e,["body"]);return Object(N.a)(Object(N.a)({},c),{},{body:t!==a?n:r})}))})})):"CHOICE_SELECT_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.choices,r=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},r),{},{choices:t!==c?n:n.map((function(e,t){return Object(N.a)(Object(N.a)({},e),{},{isCorrect:t===a})}))})})):[]}),k=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useReducer)(w,[]),o=Object(j.a)(r,2),i=o[0],u=o[1],p=h().token,O=Object(s.f)(),m=Object(c.useCallback)(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return a("Name can't be empty"),e.abrupt("return");case 3:if(0!==i.length){e.next=6;break}return window.alert("There must be at least 1 questions"),e.abrupt("return");case 6:if(i.every((function(e){return e.body}))){e.next=9;break}return window.alert("Question can't be empty"),e.abrupt("return");case 9:if(i.every((function(e){return e.choices.every((function(e){return e.body}))}))){e.next=12;break}return window.alert("Choices can't be empty"),e.abrupt("return");case 12:if(i.every((function(e){return e.choices.length>1}))){e.next=15;break}return window.alert("There must be at least 2 choices for each questions"),e.abrupt("return");case 15:return e.next=17,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(p)},body:JSON.stringify({quizName:n,questions:i})});case 17:window.alert("Added quiz"),a(""),O.push("/getquizzes");case 20:case"end":return e.stop()}}),e)}))),[n,i,p]);return p?Object(b.jsxs)("div",{className:"createQuizContainer",children:[Object(b.jsx)("input",{type:"text",className:"quiz-name",value:n,placeholder:"Enter name of quiz",onChange:function(e){var t=e.target.value;return a(t)}}),Object(b.jsx)("br",{}),i.map((function(e,t){var n=e.body,c=e.choices;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{className:"questionIndex",children:["Question ",t+1]}),Object(b.jsx)("input",{className:"decoRadioBtn",type:"radio"}),Object(b.jsx)("textarea",{className:"txtInput quiz-title",value:n,placeholder:"Enter question",onChange:function(e){var n=e.target.value;u({action:"QUESTION_BODY_CHANGE",questionIndex:t,value:n})}}),Object(b.jsx)("br",{}),c.map((function(e,n){var c=e.isCorrect,a=e.body;return Object(b.jsxs)("div",{className:"choiceContainer",children:[Object(b.jsx)("input",{className:"radioBtn-createQuiz",type:"radio",checked:c,onChange:function(){u({action:"CHOICE_SELECT_CHANGE",questionIndex:t,choiceIndex:n})}}),Object(b.jsx)("textarea",{className:"txtInput",value:a,onChange:function(e){var c=e.target.value;u({action:"CHOICE_BODY_CHANGE",questionIndex:t,choiceIndex:n,value:c})}})]},n)})),Object(b.jsx)("button",{className:"addBtn",onClick:function(){return u({action:"ADD_CHOICE",questionIndex:t})},children:"Add a choice"},"button-".concat(t)),Object(b.jsx)("hr",{})]},t)})),Object(b.jsx)("button",{className:"addBtn",onClick:function(){return u({action:"ADD_QUESTION"})},children:"Add question"}),Object(b.jsx)("button",{className:"addBtn addQuiz",onClick:m,children:"Add Quiz"})]}):Object(b.jsx)(x,{})},q=n(992),E=n(231),I=n.n(E),S=n(990),_=(n(962),Object(S.a)({mainContainer:{gridArea:"deleteBtn",textAlign:"right",paddingRight:"3em"},btnContainer:{paddingRight:"0",paddingTop:"0"},btn:{color:"white",fontSize:"1.5em",transition:"all .6s ease-out","&:hover":{transform:"scale(1.7)",color:"#a80000"}}})),T=function(){var e=_(),t=Object(c.useState)([]),n=Object(j.a)(t,2),a=n[0],r=n[1],o=h().token,s=Object(c.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in delete"),e.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/".concat(t),{method:"DELETE",mode:"cors",headers:{Authorization:"bearer ".concat(o),"Content-Type":"application/json"}});case 3:e.sent,window.alert("Quiz deleted"),r((function(e){return e.filter((function(e){return e.id!==t}))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,r]);return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes",{method:"GET",headers:{Authorization:"bearer ".concat(o)}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n),r(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o]),o?0===a.length?Object(b.jsx)("h1",{className:"pageTitle",children:"No quizzes yet. Go create a new one!"}):o?Object(b.jsxs)("div",{className:"wholeWrapper",children:[Object(b.jsx)("h1",{className:"pageTitle",children:"Quiz List - Quizzes"}),a.map((function(t,n){var c=t.id,a=t.quizName,r=t.createdAt,o={pathname:"/quiz/".concat(c)},u={pathname:"/edit/".concat(c)},l={pathname:"/submissions/".concat(c)};return Object(b.jsxs)("div",{className:"gridContainer",children:[Object(b.jsx)("div",{className:"deleteBtnContainer ".concat(e.mainContainer),onClick:function(){return s(c)},children:Object(b.jsx)(q.a,{className:e.btnContainer,children:Object(b.jsx)(I.a,{className:e.btn})})}),Object(b.jsx)("h5",{className:"indexSection",children:n+1}),Object(b.jsx)("h3",{className:"nameSection",children:a}),Object(b.jsx)("h4",{className:"dateSection",children:r}),Object(b.jsx)("div",{className:"cardMenuContainer",children:Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{className:"cardUL",children:[Object(b.jsx)("li",{className:"menuList",children:Object(b.jsx)(i.b,{className:"link",to:o,children:"Take Quiz"})}),Object(b.jsx)("li",{className:"menuList",children:Object(b.jsx)(i.b,{className:"link",to:u,children:"Edit Quiz"})}),Object(b.jsx)("li",{className:"menuList",children:Object(b.jsx)(i.b,{className:"link",to:l,children:"View Submission"})})]})})})]},"quiz-".concat(c))}))]}):Object(b.jsx)(x,{}):Object(b.jsx)(x,{})},B=(n(966),function(){var e=h().token,t=Object(s.g)().id,n=Object(c.useState)(""),a=Object(j.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)([]),u=Object(j.a)(i,2),p=u[0],O=u[1],m=Object(c.useCallback)(Object(d.a)(l.a.mark((function n(){var c,a,r,o;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(p),c=p.flatMap((function(e){return e.choices.filter((function(e){return e.isChecked})).flatMap((function(e){return e.choiceID}))})),console.log(c),n.next=5,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/submissions/".concat(t),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"bearer ".concat(e)},body:JSON.stringify({choices:c})});case 5:if((a=n.sent).ok){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,a.json();case 10:r=n.sent,o=r.score,window.alert("Your score is ".concat(o)),O(p.map((function(e){var t=e.choices,n=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},n),{},{choices:t.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{isChecked:!1})}))})})));case 14:case"end":return n.stop()}}),n)}))),[p,t,e]);return Object(c.useEffect)((function(){(function(){var n=Object(d.a)(l.a.mark((function n(){var c,a,r,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("CHECKPOINT  "+t),n.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/".concat(t),{method:"GET",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(e)}});case 3:return c=n.sent,n.next=6,c.json();case 6:a=n.sent,r=a.quizName,i=a.questions,console.log(i),console.log(r),o(r),console.log(r),O(i.map((function(e){var t=e.choices,n=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},n),{},{choices:t.map((function(e){return Object(N.a)(Object(N.a)({},e),{},{isChecked:!1})}))})})));case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[t,e]),Object(b.jsxs)("div",{className:"quizWrapper",children:[Object(b.jsx)("h2",{className:"quizTitle",children:r}),p.map((function(e,t){var n=e.questionID,c=e.questionBody,a=e.choices;return Object(b.jsxs)("div",{className:"questionWrapper",children:[Object(b.jsx)("h3",{className:"questionNumber",children:t+1}),Object(b.jsx)("h3",{className:"questionTitle",children:c}),a.map((function(e,n){var c=e.choiceID,a=e.choiceBody,r=e.isChecked;return Object(b.jsxs)("div",{className:"choiceWrapper",children:[Object(b.jsx)("input",{className:"radioBtn",type:"radio",checked:r,onChange:function(){O(p.map((function(e,c){var a=e.choices,r=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},r),{},{choices:c!==t?a:a.map((function(e,t){return Object(N.a)(Object(N.a)({},e),{},{isChecked:t===n})}))})})))}}),Object(b.jsx)("span",{className:"choiceText",children:a})]},c)}))]},n)})),Object(b.jsx)("button",{className:"submitBtn",onClick:m,children:"Submit"})]})}),A=(n(967),function(){var e=Object(s.f)().push,t=h(),n=t.register,a=t.token,r=Object(c.useState)(""),o=Object(j.a)(r,2),i=o[0],u=o[1],l=Object(c.useState)(""),d=Object(j.a)(l,2),p=d[0],O=d[1],x=Object(c.useState)(""),f=Object(j.a)(x,2),v=f[0],C=f[1];return a?Object(b.jsx)(m,{}):Object(b.jsxs)("div",{className:"registerMainContainer",children:[Object(b.jsx)("h1",{className:"registerTitle",children:"Welcome!"}),Object(b.jsx)("div",{className:"inputContainer",children:Object(b.jsx)("input",{className:"registerInput",type:"text",value:i,placeholder:"Username",onChange:function(e){var t=e.target.value;return u(t)}})}),Object(b.jsx)("div",{className:"inputContainer",children:Object(b.jsx)("input",{className:"registerInput",type:"password",value:p,placeholder:"Password",onChange:function(e){var t=e.target.value;return O(t)}})}),Object(b.jsx)("div",{className:"inputContainer",children:Object(b.jsx)("input",{className:"registerInput",type:"password",value:v,placeholder:"Confirm password",onChange:function(e){var t=e.target.value;return C(t)}})}),Object(b.jsx)("button",{className:"registerBtn_register",onClick:function(){return p?p!==v?(window.alert("Passwords don't match"),O(""),void C("")):(i||(window.alert("Username can't be empty"),u("")),void n(i,p)):(window.alert("Password can't be empty"),O(""),void C(""))},children:"Register"}),Object(b.jsx)("button",{className:"loginBtn_register",onClick:function(){return e("/login")},children:"Login"})]})}),D=(n(968),function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(s.g)().id,o=h().token;return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/submissions/".concat(r),{method:"GET",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(o)}});case 2:return t=e.sent,console.log("checking point "+r),e.next=6,t.json();case 6:n=e.sent,console.log(n),a(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,o]),console.log("test"),console.log(n),o?Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"submissionWrapper",children:n.length>0?n.map((function(e){var t=e.submittedAt.substring(0,10);return console.log(typeof t),console.log(t),Object(b.jsxs)("div",{className:"submissionCard",children:[Object(b.jsx)("h1",{className:"submissionCardusername",children:e.username}),Object(b.jsxs)("h1",{className:"submissionCardScore",children:["score: ",e.score]},e.id),Object(b.jsxs)("h3",{className:"submissionCardDate",children:["Submitted Date:"," ",Object(b.jsx)("span",{className:"yearText",children:"(yyyy-mm-dd)"}),t]})]})})):Object(b.jsx)("h1",{children:"No Submissions Yet"})})}):Object(b.jsx)(x,{})}),Q=n(31),U=(n(969),function(e,t){var n=t.action,c=t.questionIndex,a=t.choiceIndex,r=t.value,o=t.questions,i=t.question;return"CHOICE_BODY_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.choices,o=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},o),{},{choices:t!==c?n:n.map((function(e,t){var n=e.choiceBody,c=Object(g.a)(e,["choiceBody"]);return Object(N.a)(Object(N.a)({},c),{},{choiceBody:t!==a?n:r})}))})})):"CHOICE_SELECT_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.choices,r=Object(g.a)(e,["choices"]);return Object(N.a)(Object(N.a)({},r),{},{choices:t!==c?n:n.map((function(e,t){e.isCorrect;var n=Object(g.a)(e,["isCorrect"]);return Object(N.a)(Object(N.a)({},n),{},{isCorrect:t===a})}))})})):"QUESTION_BODY_CHANGE"===n.toUpperCase()?e.map((function(e,t){var n=e.questionBody,a=Object(g.a)(e,["questionBody"]);return Object(N.a)(Object(N.a)({},a),{},{questionBody:t===c?r:n})})):"ADDED_QUESTION"===n.toUpperCase()?[].concat(Object(y.a)(e),[i]):"GET_QUESTIONS"===n.toUpperCase()?o:e}),H=function(){var e=Object(s.g)().id,t=h().token,n=Object(c.useState)(""),a=Object(j.a)(n,2),r=a[0],o=a[1],i=Object(c.useReducer)(U,[]),u=Object(j.a)(i,2),p=u[0],O=u[1],m=Object(c.useState)(""),f=Object(j.a)(m,2),v=f[0],C=f[1],z=Object(c.useState)([]),w=Object(j.a)(z,2),k=w[0],q=w[1],E=Object(c.useState)(!0),I=Object(j.a)(E,2),S=I[0],_=I[1],T=Object(c.useCallback)(Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=3;break}return o("Name can't be empty"),n.abrupt("return");case 3:return n.next=5,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/".concat(e),{method:"PUT",mode:"cors",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(t)},body:JSON.stringify({quizName:r})});case 5:window.alert("Name changed");case 6:case"end":return n.stop()}}),n)}))),[r,o,e,t]),B=Object(c.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(n,c,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Question ID: "+n),console.log("Question body: "+a),console.log("Choices: \n"+JSON.stringify(r)),e.next=5,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/questions/".concat(n),{method:"PUT",mode:"cors",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(t)},body:JSON.stringify({body:a,choices:r})});case 5:window.alert("#".concat(c," Question changed"));case 6:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),[t]),A=Object(c.useCallback)(Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(v){n.next=3;break}return C("Name can't be empty"),n.abrupt("return");case 3:if(!(k.length<2)){n.next=6;break}return window.alert("There must be at least 2 choice"),n.abrupt("return");case 6:if(k.every((function(e){return e.body}))){n.next=9;break}return window.alert("Choice can't be empty"),n.abrupt("return");case 9:if(0!==k.filter((function(e){return e.isCorrect})).length){n.next=12;break}return window.alert("There must be only 1 answer choice for this question"),n.abrupt("return");case 12:return n.next=14,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/questions/".concat(e),{method:"POST",mode:"cors",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(t)},body:JSON.stringify({questionBody:v,choices:k})});case 14:window.alert("Question added"),C(""),q([]),_(!0),window.location.reload();case 19:case"end":return n.stop()}}),n)}))),[k,v,t,e,q,C]),D=Object(c.useCallback)(function(){var e=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/questions/".concat(n),{method:"DELETE",mode:"cors",headers:{Authorization:"bearer ".concat(t),"Content-Type":"application/json"}});case 2:window.alert("Question Deleted :("),window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(c.useEffect)((function(){(function(){var n=Object(d.a)(l.a.mark((function n(){var c,a,r,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("CHECKPOINT "+e),n.next=3,fetch("https://comp-4537-term-project-7zchu.ondigitalocean.app/api/v0/quizzes/".concat(e,"?showAnswers=true"),{method:"GET",headers:{"Content-type":"application/json",Authorization:"bearer ".concat(t)}});case 3:return c=n.sent,n.next=6,c.json();case 6:a=n.sent,r=a.quizName,i=a.questions,console.log(r),console.log(i),o(r),O({action:"GET_QUESTIONS",questions:i});case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[e,t]),console.log(p),t?Object(b.jsxs)("div",{className:"quizWrapper",children:[Object(b.jsx)("input",{className:"inputField_editquiz",type:"text",value:r,placeholder:"Enter name of quiz",onChange:function(e){var t=e.target.value;return o(t)}}),Object(b.jsx)("button",{className:"btn_editquiz changeNameBtn",onClick:T,children:"Change name"}),(null!==p&&void 0!==p?p:[]).map((function(e,t){var n=e.questionID,c=e.questionBody,a=e.choices;return Object(b.jsxs)("div",{className:"questionContainer_editquiz",children:[Object(b.jsx)("h1",{children:t+1}),Object(b.jsxs)("div",{className:"bodyChoiceContainer",children:[Object(b.jsx)("input",Object(Q.a)({className:"radioBtn_editquiz",type:"radio"},"className","decoRadioBtn")),Object(b.jsx)("textarea",{className:"inputField_editquiz",value:c,onChange:function(e){var n=e.target.value;O({action:"QUESTION_BODY_CHANGE",questionIndex:t,value:n})}})]}),a.map((function(e,n){var c=e.choiceBody,a=e.isCorrect,r=e.choiceID;return Object(b.jsxs)("div",{className:"bodyChoiceContainer",children:[Object(b.jsx)("input",{className:"radioBtn_editquiz",type:"radio",checked:a,onChange:function(){O({action:"CHOICE_SELECT_CHANGE",questionIndex:t,choiceIndex:n})}}),Object(b.jsx)("textarea",{className:"inputField_editquiz",value:c,onChange:function(e){var c=e.target.value;O({action:"CHOICE_BODY_CHANGE",questionIndex:t,choiceIndex:n,value:c}),console.log(p)}})]},r)})),Object(b.jsx)("button",{className:"btn_editquiz changeQuestionBtn",onClick:function(){B(n,t,c,a)},children:"Change question"}),Object(b.jsx)("button",{className:"btn_editquiz deleteBtn_editquiz",onClick:function(){D(n)},children:"Delete question"})]},n)})),S?Object(b.jsx)("button",{className:"btn_editquiz addQuestionBtn_editquiz",onClick:function(){_(!S),q([{body:"",isCorrect:!0}])},children:"Add question"}):Object(b.jsxs)("div",{className:"questionContainer_editquiz",children:[Object(b.jsx)("h1",{children:"New Question"}),Object(b.jsxs)("div",{className:"bodyChoiceContainer",children:[Object(b.jsx)("input",Object(Q.a)({className:"radioBtn_editquiz",type:"radio"},"className","decoRadioBtn")),Object(b.jsx)("textarea",{className:"inputField_editquiz",placeholder:"Enter question",value:v,onChange:function(e){var t=e.target.value;C(t)}})]}),k.map((function(e,t){var n=e.body,c=e.isCorrect;return Object(b.jsxs)("div",{className:"bodyChoiceContainer",children:[Object(b.jsx)("input",{className:"radioBtn_editquiz",type:"radio",checked:c,onChange:function(){q(k.map((function(e,n){e.isCorrect;var c=Object(g.a)(e,["isCorrect"]);return Object(N.a)(Object(N.a)({},c),{},{isCorrect:n===t})})))}}),Object(b.jsx)("textarea",{className:"inputField_editquiz",value:n,onChange:function(e){var n=e.target.value;q(k.map((function(e,c){var a=e.body,r=Object(g.a)(e,["body"]);return Object(N.a)(Object(N.a)({},r),{},{body:c!==t?a:n})})))}})]},t)})),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn_editquiz addChoiceBtn_editquiz",onClick:function(){q([].concat(Object(y.a)(k),[{body:"",isCorrect:!1}]))},children:"Add choice"}),Object(b.jsx)("button",{className:"btn_editquiz submitBtn_editquiz",onClick:A,children:"Submit"})]})]}):Object(b.jsx)(x,{})},G=function(){return Object(b.jsx)(O,{children:Object(b.jsx)(i.a,{basename:"/",children:Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{path:"/",exact:!0,component:m}),Object(b.jsx)(s.a,{path:"/admin",exact:!0,component:f}),Object(b.jsx)(s.a,{path:"/docs",exact:!0,component:C}),Object(b.jsx)(s.a,{path:"/quizzes",exact:!0,component:k}),Object(b.jsx)(s.a,{path:"/getquizzes",exact:!0,component:T}),Object(b.jsx)(s.a,{path:"/login",exact:!0,component:x}),Object(b.jsx)(s.a,{path:"/register",exact:!0,component:A}),Object(b.jsx)(s.a,{path:"/quiz/:id",exact:!0,component:B}),Object(b.jsx)(s.a,{path:"/submissions/:id",exact:!0,component:D}),Object(b.jsx)(s.a,{path:"/edit/:id",exact:!0,component:H})]})})})};o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root"))}},[[972,1,2]]]);
//# sourceMappingURL=main.12821040.chunk.js.map